<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,target-densitydpi=device-dpi"
          name="viewport">

    <title>Sortie - AR View</title>

    <!-- Lodash -->
    <script src="../../lib/lodash/dist/lodash.min.js"></script>

    <!-- jQuery -->
    <script src="../../lib/jquery/dist/jquery.js"></script>

    <!-- Ionic -->
    <script src="architect://architect.js"></script>
    <script src="../../lib/ionic/js/ionic.bundle.min.js"></script>
    <link rel="stylesheet" href="../../lib/ionic/css/ionic.min.css">
    <script src="../../lib/ngCordova/dist/ng-cordova.min.js"></script>

    <!-- Turf -->
    <script src="../../lib/turf/turf.min.js"></script>
    <script src="../../lib/angular-turf-module/angular-turf-module.js"></script>

    <!-- Leaflet -->
    <script src="../../lib/leaflet/dist/leaflet.js"></script>
    <link rel="stylesheet" href="../../lib/leaflet/dist/leaflet.css">
    <script src="../../lib/angular-leaflet-directive/dist/angular-leaflet-directive.min.js"></script>

    <!-- Utils -->
    <script src="../../utils/utils.module.js"></script>

    <!--
      ATTENTION: the inject:css and inject:js sections are automatically filled
      by the gulp-inject plugin. DO NOT EDIT THEM YOURSELF. See the README.
    -->

    <!-- inject:css -->
    <link rel="stylesheet" href="filters/filters.style.css">
    <link rel="stylesheet" href="mini-map-orientation/mini-map-orientation.css">
    <!-- endinject -->

    <!-- inject:js -->
    <script src="../ar-back-button-directive.js"></script>
    <script src="../ar-lib/ar-lib.module.js"></script>
    <script src="../ar-lib/ar-lib.arpoi.js"></script>
    <script src="../ar-lib/ar-lib.beacon.js"></script>
    <script src="../ar-lib/ar-lib.do.js"></script>
    <script src="../ar-lib/ar-lib.markers.js"></script>
    <script src="../ar-lib/ar-lib.poi.js"></script>
    <script src="../ar-lib/ar-lib.poidata.js"></script>
    <script src="../ar-lib/ar-lib.user-location.js"></script>
    <script src="main.module.js"></script>
    <script src="base.controller.js"></script>
    <script src="main.run.js"></script>
    <script src="ar-config/ar-config.module.js"></script>
    <script src="ar-config/ar-config.service.js"></script>
    <script src="big-map-modal/big-map-modal.module.js"></script>
    <script src="big-map-modal/big-map-modal.controller.js"></script>
    <script src="big-map-modal/big-map-modal.service.js"></script>
    <script src="debug-position-modal/debug-position-modal.module.js"></script>
    <script src="debug-position-modal/debug-position-modal.controller.js"></script>
    <script src="debug-position-modal/debug-position-modal.service.js"></script>
    <script src="debug-stats/debug-stats.module.js"></script>
    <script src="debug-stats/debug-stats.controller.js"></script>
    <script src="filters/filters.module.js"></script>
    <script src="filters/filters.controller.js"></script>
    <script src="filters/filters.service.js"></script>
    <script src="mini-map-orientation/mini-map-orientation.module.js"></script>
    <script src="mini-map-orientation/mini-map-orientation.directive.js"></script>
    <script src="mini-map/mini-map.module.js"></script>
    <script src="mini-map/mini-map.controller.js"></script>
    <script src="world/world.module.js"></script>
    <script src="world/world.service.js"></script>
    <!-- endinject -->

    <style>
      #test-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 100%;
        text-align: right;
      }

      option.placeholder {
        color: #c0c0c0;
      }

      .filters {
        position: fixed;
        bottom: 30px;
        left: 20px;
      }

      .filters a {
        display: block;
        width: 80px;
        height: 80px;
        font-size: 70px;
        padding: 5px;
        text-align: center;
        -webkit-border-radius: 80px;
        -moz-border-radius: 80px;
        border-radius: 80px;
        background-color: #c0c0c0;
        color: #ffffff;
      }

      .mini-map {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 2;
      }

      .mini-map .leaflet-container {
        height: 100px;
        width: 100px;
        -webkit-border-radius: 100px;
        -moz-border-radius: 100px;
        border-radius: 100px;
        -webkit-mask-image: url(../../img/mask.svg);
      }

      .mini-map .leaflet-control-container {
        display: none;
      }

      .stats {
        position: absolute;
        top: 44px;
        left: 0;
        right: 0;
        background-color: white;
      }

      .stats span {
        text-align: center;
      }

      .stats .plus {
        color: green;
      }

      .stats .moins {
        color: red;
      }

      .stats .total {
        color: blue;
      }
    </style>
  </head>
  <body ng-app="ar" ng-controller="BaseCtrl as base">
    <ion-header-bar class="bar-balanced">
      <button class="button back-button button-icon" ng-click="base.closeAR()">
        <i class="icon ion-android-arrow-back"></i>
      </button>
      <h1 class="title">Ionic + Wikitude</h1>
      <button class="button button-icon" ng-click="base.showDebugModal()">
        <i class="icon ion-android-options"></i>
      </button>
    </ion-header-bar>
    <div class="filters" data-tap-disabled="true">
      <a class="icon ion-gear-a" href="#" ng-click="base.showFiltersModal()"></a>
    </div>
    <div class="mini-map" ng-controller="MiniMapCtrl as map" data-tap-disabled="true"
         ng-style="{'transform': map.mapOrientation, '-webkit-transform': map.mapOrientation, '-ms-transform': map.mapOrientation}">
      <leaflet defaults="map.spec.defaults" tiles="map.spec.tiles" markers="map.spec.markers" center="map.spec.center"
               geojson="map.spec.geojson" geojson-nested="true" event-broadcast="map.spec.events"></leaflet>
    </div>
    <mini-map-orientation></mini-map-orientation>
    <div class="stats row" ng-controller="StatsCtrl as stats">
      <span class="plus col">+ {{stats.plus}}</span><span class="moins col">- {{stats.moins}}</span><span
      class="total col">Tot: {{stats.total}}</span>
    </div>
  </body>
</html>
